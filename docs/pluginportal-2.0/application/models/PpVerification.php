<?php

/**
 * PpVerification
 * 
 * This class has been auto-generated by the Doctrine ORM Framework
 * 
 * @package    ##PACKAGE##
 * @subpackage ##SUBPACKAGE##
 * @author     ##NAME## <##EMAIL##>
 * @version    SVN: $Id: Builder.php 7490 2010-03-29 19:53:27Z jwage $
 */
class PpVerification extends BasePpVerification {

    /**
     * get names of users who gave gos, nogos
     *
     * @return array with goes and nogoes by users 
     */
    public function getGoNoGosBy() {
        $ret = array('gos' => array(), 'nogos' => array(), 'notvoted' => array());
        //var_dump($this->Requests->toArray());
        if ($this->Requests->count() > 0) {
            foreach ($this->Requests as $r) {
                if ($r->vote == '1') {
                    $ret['gos'][] = $r->Verifier->userid;
                } elseif ($r->vote == '-1') {
                    $ret['nogos'][] = $r->Verifier->userid;
                } else {                    
                        $ret['notvoted'][] = $r->Verifier->userid;                    
                }
            }
        }
        return $ret;
    }

}