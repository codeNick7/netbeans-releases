<project name="MyProject" default="dist" basedir=".">
    <description>
        Build catalogs
    </description>

    <target name="generate-uc-catalog">
        <taskdef name="makeupdatedesc"
               classname="org.netbeans.nbbuild.MakeUpdateDesc"
               classpath="/home/honza/work/oracle/pp-rewrite/ant-catalog/nbantext.jar" />

        <property name="nbms.location" location="/home/honza/work/oracle/pp-rewrite/nbms-upload"/>
        <property name="catalog.file" location="${nbms.location}/updates.xml"/>
        <property name="tasks.file" location="/home/honza/work/oracle/pp-rewrite/ant-catalog/tasks.jar"/>
        <property name="catalog.base.url" value="http://plugins.netbeans.org/nbpluginportal/updates"/>
        <property name="use.license.url.in.catalog" value="true"/>
        <property name="catalog.notification.message" value=""/>
        <property name="catalog.notification.url"     value=""/>
        <property name="catalog.content.description"  value=""/>
        <property name="catalog.content.description.url" value=""/>

        <makeupdatedesc desc="${catalog.file}" distbase="${catalog.base.url}" automaticgrouping="true" uselicenseurl="${use.license.url.in.catalog}"
                       notificationmessage="${catalog.notification.message}" notificationurl="${catalog.notification.url}" contentdescription="${catalog.content.description}"
                       contentdescriptionurl="${catalog.content.description.url}">
            <fileset dir="${nbms.location}">
                <include name="**/*.nbm"/>
                <include name="**/*.jar"/>
            </fileset>
            <updaterjar>
                <fileset dir="netbeans" includes="platform*/modules/ext/updater.jar"/>
            </updaterjar>
        </makeupdatedesc>
        <gzip src="${catalog.file}" destfile="${catalog.file}.gz"/>
        <!--       <copy tofile="${tasks.file}" file="netbeans/harness/tasks.jar"/> -->
    </target>

</project>

