<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <link rel="stylesheet" type="text/css" href="../../../netbeans.css">
        <title>Using Data Bindings to Connect Components</title>
        <meta http-equiv="content-type" content="text/html; charset=UTF-8">
        <meta name="description" content="A tutorial that introduces the support for developing HTML5 applications in NetBeans IDE
              and uses the jQuery JavaScript library.">
        <meta name="keywords" content="NetBeans, IDE, integrated development environment, jQuery, JavaScript, CSS, HTML5">
    </head>
    <body>

        <!--
        Copyright (c) 2016, Oracle and/or its affiliates. All rights reserved.
        -->

        <h1>Using Data Bindings to Connect Components</h1>

        <p>
            This document provides a step-by-step set of instructions guiding
            you through the process of connecting components to each other
            via data bindings, as provided by <a href="http://knockoutjs.com/">Knockout.js</a>, which is the
            data binding library included in the
            <a href="http://oraclejet.org">Oracle JavaScript Extension Toolkit (JET)</a>. JET empowers developers
            by providing a modular toolkit based on modern JavaScript, CSS3,
            and HTML5 design and development principles.</p>
            
            <!-- ++++++++++++++++ using ++++++++++++++++ -->
            <a name="using1"></a><h2>Using the Oracle JET Cookbook</h2>
            <p>In this section, you copy/paste Oracle JET components into your JET applications.</p>
            <ol>
                <li><p>As described in <a href="https://netbeans.org/kb/docs/webclient/ojet-cookbook.html">Using the Oracle JET Cookbook</a>,
                    you can copy/paste Oracle JET components from the Oracle JET Cookbook into 
                    your Oracle JET application. At this stage, you should have the
                    <a href="http://www.oracle.com/webfolder/technetwork/jet/jetCookbook.html?component=barChart&demo=default">Bar Chart</a> component in your application, as shown below:</p>
                     <p><img src="../../../images_www/articles/82/web/oraclejet-gettingstarted/cookbook-3.png"
                            class="margin-around b-all"
                            /></p>
                </li>
                <li>
                    <p>Also add a <a href="http://www.oracle.com/webfolder/technetwork/jet/jetCookbook.html?component=select&demo=single">Select</a> component to your application, in the same Oracle JET module
                        where the Bar Chart is found:</p>
                    <br/>
                    <ul>
                        <li>
                            <p>Read the <a href="http://www.oracle.com/webfolder/technetwork/jet/jetCookbook.html?component=select&demo=single">Select</a> component recipe in the
                             Oracle JET Cookbook and copy the recipe into your application, then
                             take the steps below to tweak the code.</p>
                        </li>
                        <li>
                            <p>Tweak the HTML so that the user will be able to select different types
                             of charts. Notice that not all the HTML from the recipe is needed. Nothing
                             more than the below should be added to the JavaScript file for usage
                             with the Select component defined above.</p>
                            <pre>&lt;form id="form1"&gt;
    &lt;select id="basicSelect" 
            data-bind="ojComponent: {
                component: 'ojSelect',
                value: val}"&gt;
        &lt;option value="bar"&gt;Bar&lt;/option&gt;
        &lt;option value="line"&gt;Line&lt;/option&gt;
        &lt;option value="area"&gt;Area&lt;/option&gt;
    &lt;/select&gt;
&lt;/form&gt;
</pre>
                        </li>
                        <li>
                            <p>Notice that the HTML makes use of a <tt>value</tt> named <tt>val</tt>. That
                             gives you the information needed to determine which part of the JS tab
                             of the recipe you need to tweak and copy to your JavaScript file:</p>
                            <pre>self.val = ko.observableArray(["bar"]);</pre>
                        </li>
                        <li>
                            <p>Make sure to include the reference to the Select component at the
                             end of the <tt>define</tt> block, copied from
                             the JS tab in the recipe:
                            </p>
                            <pre>'ojs/ojselectcombobox'</pre>
                        </li>
                    </ul>
                </li>
                <li>
                    <p>In the browser, check that the application looks something like the below, that is,
                     you should see a Bar Chart component and a Select component:</p>
                    <p><img src="../../../images_www/articles/82/web/oraclejet-gettingstarted/databinding-001.png"
                    class="margin-around b-all"
                    /></p>
                </li>
            </ol>
            <p>In the next section, you're going to bind the two components together.</p>
            <!-- ++++++++++++++++ connecting ++++++++++++++++ -->
            <a name="using2"></a><h2>Connecting the Select Component to the Bar Chart Component</h2>
            
            <p>In this section, you connect the components together enabling
                the user to select the chart type.</p>
            
            <ol>
                <li><p>Notice in your HTML file that the Bar Chart component has its
                    <tt>type</tt> property hardcoded to <tt>'bar'</tt>.</p></li>
                <li><p>Notice in your HTML file that the Select component has its
                    <tt>value</tt> property set to the two-way binding array <tt>val</tt>,
                    defined in your JavaScript file.</p></li>
                <li><p>Change the value of the Bar Chart component's <tt>type</tt> property
                        to <tt>val()[0]</tt>. That means that when the <tt>val</tt> array
                        changes, the first value defines the type of the Bar Chart,
                        which will immediately update itself to the new value.</p>
                </li>    
                <li>
                    <p>In the browser, switch to a different chart type in the Select component
                    and notice that the Bart Chart component automatically updates itself:</p>
                    <p><img src="../../../images_www/articles/82/web/oraclejet-gettingstarted/databinding-002.png"
                    class="margin-around b-all"/></p>
                </li>
            </ol>
             <p>You have now connected two Oracle JET components together. When the user
               makes a choice in the Select component, the Bar Chart automatically
               reflects the current choice.</p>
             
            <a name="using3"></a><h2>Displaying a Current Value</h2>
            <p>In Oracle JET applications, a common construction is to display the current state of a value
                as follows, using a <tt>span</tt> tag to do so:</p>
            <pre>Selected: &lt;b&gt;&lt;span <b>data-bind="text: val"</b>&gt;&lt;/span&gt; chart&lt;/b&gt;</pre>  
            <p class="tips">In the above, the <tt>text</tt> attribute of the <tt>span</tt> element
                is bound to the <tt>val</tt> property.</p>
            <p>Add the above anywhere in your HTML file and notice that the browser now
                displays an updated text whenever <tt>val</tt> changes.</p>
            
           <a name="using4"></a><h2>Connecting a Gauge to an Input Field</h2>
            <p>In this section, you're on your own! As an exercise, instead of step-by-step instructions,
             you'll be told to connect two Oracle JET components together.</p>
            <ol>
                <li>
                    <p>From the <a href="http://www.oracle.com/webfolder/technetwork/jet/jetCookbook.html?component=statusMeterGauge&demo=statusMeterGaugeCircular">Circular Status Meter Gauge recipe</a>,
                        copy a gauge into your Oracle JET application.</p></li>
                <li> <p>From the <a href="http://www.oracle.com/webfolder/technetwork/jet/jetCookbook.html?component=textInput&demo=text">Input Text recipe</a>,
                        copy an input text into your Oracle JET application.</p></li>
                <li><p>Connect the two components together so that the current value
                     of the gauge is shown in the input field and so that the gauge
                     reflects the current value in the input field. Experiment with the <a href="http://knockoutjs.com/documentation/textinput-binding.html"><tt>textInput</tt> binding</a>, as follows:</p>
                    <pre>&lt;input type="text" data-bind="textInput: value, ojComponent: {component: 'ojInputText'}" /&gt;</pre>
                </li>
            </ol>
            
            <p>Let's extend the scenario above and include <tt>ojButtons</tt> for increasing
                and decreasing the value:</p>
            <p><img style="border:1px solid black" src="../../../images_www/articles/82/web/oraclejet-gettingstarted/ojgauge.png"/></p>
            <p>The HTML for the above is as follows, take note of the <tt>click</tt> binding:</p>
<pre>&lt;button class="oj-button-primary"
        data-bind="<b>click: up</b>,
                   ojComponent: {
                       component: 'ojButton',
                       label: 'Up'
                   }"&gt;
&lt;/button&gt;
&lt;button class="oj-button-primary"
        data-bind="<b>click: down</b>,
                   ojComponent: {
                       component: 'ojButton',
                       label: 'Down'
                   }"&gt;
&lt;/button&gt;</pre>     
            <p>Here is the business logic, to be put in the JavaScript file:</p>
<pre>self.up = function() {
   self.value(self.value()+1);
};
self.down = function() {
   self.value(self.value()-1); 
};</pre>        
            
            <p class="tips">Incorporate other Oracle JET components into your application and find
                ways of binding them together.</p>
            
            <a name="next"></a><h2>Next Steps</h2>
            
            <p>Work through the <a href="http://knockoutjs.com/examples/">Live Examples</a>
                and <a href="http://learn.knockoutjs.com/">Tutorials</a> on the Knockout.js
                site to familiarize yourself with the basic constructs and strategies
                provided by Knockout.js.</p>
            
            <p>Congratulations! You have now learned the basics of using Knockout data bindings
                 to connect components together.</p>



        <div class="feedback-box">
            <a href="/about/contact_form.html?to=3&amp;subject=Feedback:%20Using%20Data%20Bindings%20to%20Connect%20Components">Send Feedback on This Tutorial</a>
        </div>

        <br style="clear:both;">

        <br>

        <h2 id="seealso">See Also</h2>

        <p>For more information about support for Oracle JET and a variety of HTML5 applications in the IDE on
            <a href="https://netbeans.org/">netbeans.org</a>, see the following resources:</p>

        <ul>
            <li><a href="http://www.oracle.com/webfolder/technetwork/jet/globalExamples.html">"Learn" section
                    on the Oracle JET site</a>. A set of official Oracle JET learning resources.</li>
            <li><a href="html5-editing-css.html">Working with CSS Style Sheets in HTML5 Applications</a>.
                A document that continues with the application that you created in this tutorial that demonstrates
                how to use some of the CSS wizards and windows in the IDE and how to use the Inspect mode in the
                Chrome browser to visually locate elements in your project sources.</li>
            <li><a href="html5-js-support.html">Debugging and Testing JavaScript in HTML5 Applications</a>.
                A document that demonstrates how the IDE provides tools that can help you debug and test
                JavaScript files in the IDE.</li>
        </ul>

    </body>
</html>